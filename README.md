Домашняя работа по теме "Первые шаги с Ansible"

Задание:

Подготовить стенд на Vagrant как минимум с одним сервером. На этом сервере используя Ansible необходимо развернуть nginx со следующими условиями:

- необходимо использовать модуль yum/apt;
 
- конфигурационные файлы должны быть взяты из шаблона jinja2 с перемененными;

- после установки nginx должен быть в режиме enabled в systemd;

- должен быть использован notify для старта nginx после установки;

- сайт должен слушать на нестандартном порту - 8080, для этого использовать переменные в Ansible.



Ход выполнения домашнего задания.

Организуем для проекта файлы и директории

Ниже представлен вывод команды tree:

```
.
├── group_vars
│   └── all
├── hosts
├── host_vars
│   └── webserver
├── README.md
├── roles
│   └── nginx
│       ├── defaults
│       ├── files
│       ├── handlers
│       │   └── main.yml
│       ├── library
│       ├── lookup_plugins
│       ├── meta
│       ├── module_utils
│       ├── tasks
│       │   └── main.yml
│       ├── templates
│       │   └── nginx.j2
│       └── vars
├── site.yml
└── Vagrantfile

14 directories, 9 files
```
1. site.yml - файл, в формате yml, в которомописаны хосты, над которые будут сконфигурированы, права root (нужны или нет) и роли

2. Каталог roles содержит описание одной роли - nginx

3. В каталоге host_vars содержится сопоставление имени хоста и ip-адреса

4. Файл hosts содержит имя роли и хост к которому эта роль будет применена

5. В каталоге group_vars содержатся переменные, которые используются в работе данного проекта
